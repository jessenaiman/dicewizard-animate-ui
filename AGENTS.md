# AGENTS.md

This file provides guidance to agents when working with code in this repository.

## Critical Project Patterns

- **Registry Build Process**: When running `pnpm registry:build`, always run `pnpm format:write` before and after to maintain consistent formatting
- **Import Path Transformations**: `@workspace/ui/` imports are transformed to `@/` during build; `@/registry/` paths become `@/components/animate-ui/` in registry outputs
- **Animation Defaults**: Motion/react components use specific spring animations (stiffness: 150, damping: 22) - don't override unless intentional
- **Screenshot Mode**: Uncomment `screenshot-mode` class in layout.tsx for cleaner video recordings
- **Hydration Warnings**: html element has `suppressHydrationWarning` for theme switching compatibility
- **Query State**: Uses NuqsAdapter for URL query state management - avoid manual query string manipulation
- **JSON-LD**: Custom structured data injected in layout head via `apps/www/lib/json-ld.ts`
- **Dark Theme Default**: Fumadocs provider defaults to dark theme
- **Component Slots**: All components use `data-slot` attributes for consistent styling hooks
- **Registry Auto-generation**: `__registry__/index.tsx` is auto-generated by `scripts/build-registry.mts` - never edit directly
- **Additional Animations**: Uses `tw-animate-css` for Tailwind animation utilities beyond motion/react

## Code Style Notes

- **Imports**: Prefer named imports from motion/react over motion
- **TypeScript**: Strict mode with `noUncheckedIndexedAccess` - always handle potential undefined values
- **ESLint**: React hooks rules enforced, JSX transform enabled (no react/react-in-jsx-scope needed)
